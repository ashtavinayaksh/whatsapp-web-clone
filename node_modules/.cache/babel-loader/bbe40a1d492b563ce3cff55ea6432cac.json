{"ast":null,"code":"var _jsxFileName = \"E:\\\\React_Project\\\\WhatsApp-Clone-React-isnotuploaded on github\\\\src\\\\Sidebar\\\\DrawerLeft.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { useStateValue } from \"../StateProvider\"; //importing components\n\nimport DropdownMenu from \"../shared/DropdownMenu\";\nimport { toastInfo } from \"../shared/toastInfo\";\nimport DialogCustom from \"../shared/DialogCustom\"; //importing material-ui\n\nimport Zoom from \"@material-ui/core/Zoom\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport { makeStyles } from \"@material-ui/core/styles\"; //importing material-ui-icons\n\nimport PhotoCameraIcon from \"@material-ui/icons/PhotoCamera\";\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport CheckIcon from \"@material-ui/icons/Check\"; //importing styles\n\nimport \"./DrawerLeft.css\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\"\n  },\n  drawerPaper: {\n    position: \"absolute\"\n  }\n}));\n\nfunction DrawerLeft({\n  drawerLeft,\n  setDrawerLeft,\n  db,\n  auth,\n  storage\n}) {\n  _s();\n\n  const classes = useStyles();\n  const [{\n    user\n  }] = useStateValue();\n  const [name, setName] = useState(\"\");\n  const [about, setAbout] = useState(\"\");\n  const [showEditName, setShowEditName] = useState(false);\n  const [showEditAbout, setShowEditAbout] = useState(false);\n  const [showProfilePhoto, setShowProfilePhoto] = useState(false);\n  const [uploadPhotoLink, setUploadPhotoLink] = useState(null);\n  const [showDialogUpload, setShowDialogUpload] = useState(false);\n  const [menuProfile, setMenuProfile] = useState(null);\n  const [photo, setPhoto] = useState(\"\");\n  useEffect(() => {\n    setName(user.displayName);\n    db.collection(\"users\").doc(user.uid).onSnapshot(function (doc) {\n      var _doc$data, _doc$data2;\n\n      setPhoto((_doc$data = doc.data()) === null || _doc$data === void 0 ? void 0 : _doc$data.photoURL);\n      setAbout((_doc$data2 = doc.data()) === null || _doc$data2 === void 0 ? void 0 : _doc$data2.about);\n    });\n  }, [user.uid, user.displayName, db]);\n\n  const updateName = e => {\n    e.preventDefault();\n\n    if (user.uid) {\n      db.collection(\"users\").doc(user.uid).update({\n        name: name\n      }).then(function () {\n        console.log(\"Document successfully updated!\");\n      }).catch(function (error) {\n        // The document probably doesn't exist.\n        console.error(\"Error updating document: \", error);\n      });\n      auth.currentUser.updateProfile({\n        displayName: name\n      });\n    }\n\n    setShowEditName(false);\n  };\n\n  const updateAbout = e => {\n    e.preventDefault();\n\n    if (user.uid) {\n      db.collection(\"users\").doc(user.uid).update({\n        about: about\n      }).then(function () {\n        console.log(\"Document successfully updated!\");\n      }).catch(function (error) {\n        // The document probably doesn't exist.\n        console.error(\"Error updating document: \", error);\n      });\n    }\n\n    setShowEditAbout(false);\n  };\n\n  const editName = () => {\n    setShowEditName(true);\n  };\n\n  const editAbout = () => {\n    setShowEditAbout(true);\n  };\n\n  const handleDrawerClose = () => {\n    setDrawerLeft(false);\n    setShowEditName(false);\n    setShowEditAbout(false);\n  };\n\n  const viewPhoto = () => {\n    const viewPhoto = \"viewPhoto\";\n\n    if (user) {\n      setShowProfilePhoto(true);\n    } else {\n      toastInfo(\"You have no photo!\", viewPhoto, \"top-center\");\n    }\n\n    setMenuProfile(null);\n  };\n\n  const viewPhotoClose = () => {\n    setShowProfilePhoto(false);\n  };\n\n  const takePhoto = () => {\n    const takePhoto = \"takePhoto\";\n    toastInfo(\"Take photo is not yet available!\", takePhoto, \"top-center\");\n  };\n\n  const removedPhoto = () => {\n    const removedPhoto = \"removedPhoto\";\n    toastInfo(\"Removed photo is not yet available!\", removedPhoto, \"top-center\");\n  };\n\n  const onFileChangeImage = async e => {\n    const imageFileSizeToastId = \"imageFileSizeToastId\";\n    const file = e.target.files[0];\n\n    if (file.size > 3 * 1024 * 1024) {\n      toastInfo(\"Image should not exceed more than 3Mb\", imageFileSizeToastId, \"top-center\");\n    } else {\n      const storageRef = storage.ref();\n\n      if (user.isAnonymous === true) {\n        const imagesRef = storageRef.child(`user/anonymous/${user.uid}`);\n        const fileRef = imagesRef.child(file.name);\n        await fileRef.put(file);\n        setUploadPhotoLink(await fileRef.getDownloadURL());\n        console.log(\"uploading image\", uploadPhotoLink);\n      } else {\n        const imagesRef = storageRef.child(`user/regular/${user.uid}`);\n        const fileRef = imagesRef.child(file.name);\n        await fileRef.put(file);\n        setUploadPhotoLink(await fileRef.getDownloadURL());\n        console.log(\"uploading image\", uploadPhotoLink);\n      }\n    }\n\n    setMenuProfile(null);\n    setShowDialogUpload(true);\n  };\n\n  const uploadPhoto = () => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"profileMenu_uploadPhoto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"file-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }\n    }, \"Upload photo\"), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"file-input\",\n      type: \"file\",\n      onChange: onFileChangeImage,\n      accept: \"image/*\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }\n    }));\n  };\n\n  const handleUploadPhoto = () => {\n    const uploadPhotoError = \"uploadPhotoError\";\n\n    if (uploadPhotoLink) {\n      auth.currentUser.updateProfile({\n        photoURL: uploadPhotoLink\n      });\n      db.collection(\"users\").doc(user.uid).set({\n        photoURL: uploadPhotoLink\n      }, {\n        merge: true\n      });\n      setShowDialogUpload(false);\n    } else {\n      toastInfo(\"Select photo to upload!\", uploadPhotoError, \"top-center\");\n    }\n  };\n\n  const handleDialogUploadClose = () => {\n    setShowDialogUpload(false);\n  };\n\n  const handleProfileMenu = event => {\n    setMenuProfile(event.currentTarget);\n  };\n\n  const handleProfileMenuClose = () => {\n    setMenuProfile(null);\n  };\n\n  const menuLists = [{\n    title: \"View Photo\",\n    onClick: () => viewPhoto(),\n    id: Math.random() * 100000\n  }, {\n    title: \"Take photo\",\n    onClick: () => takePhoto(),\n    id: Math.random() * 100000\n  }, {\n    title: uploadPhoto(),\n    onClick: () => handleUploadPhoto(),\n    id: Math.random() * 100000\n  }, {\n    title: \"Removed photo\",\n    onClick: () => removedPhoto(),\n    id: Math.random() * 100000\n  }];\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Drawer, {\n    anchor: \"left\",\n    variant: \"persistent\",\n    open: drawerLeft,\n    classes: {\n      paper: classes.drawerPaper\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"drawerLeft__header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"drawerLeft__header_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    onClick: handleDrawerClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ArrowBackIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 13\n    }\n  }, \"Profile\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"drawerLeft__content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"drawerLeft__content_photo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profilePhoto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Zoom, {\n    in: drawerLeft,\n    style: {\n      transitionDelay: drawerLeft ? \"300ms\" : \"0ms\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 15\n    }\n  }, photo ? /*#__PURE__*/React.createElement(Avatar, {\n    src: photo,\n    className: \"profilePhoto__layer_bottom\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 19\n    }\n  }) : /*#__PURE__*/React.createElement(Avatar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profilePhoto__layer_top\",\n    onClick: handleProfileMenu,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profilePhoto__text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(PhotoCameraIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 19\n    }\n  }, \"CHANGE\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 19\n    }\n  }, \"PROFILE PHOTO\")))), /*#__PURE__*/React.createElement(DropdownMenu, {\n    menuLists: menuLists,\n    menu: menuProfile,\n    handleMenuClose: handleProfileMenuClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(DialogCustom, {\n    open: showProfilePhoto,\n    close: viewPhotoClose,\n    photo: photo,\n    user: user,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profileMenu__diaglog\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Dialog, {\n    open: showDialogUpload,\n    onClose: handleDialogUploadClose,\n    \"aria-labelledby\": \"form-dialog-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(DialogTitle, {\n    id: \"form-dialog-title-drawerLeft\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 15\n    }\n  }, \"Upload Photo\"), /*#__PURE__*/React.createElement(DialogContent, {\n    id: \"form-dialog-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profileMenu__uploadPhoto_dialog\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: uploadPhotoLink,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(DialogActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profileMenu_uploadPhoto_iconButton\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    onClick: handleUploadPhoto,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(CheckIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 21\n    }\n  })))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"drawerLeft__content_name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 13\n    }\n  }, \"Your Name\"), /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 13\n    }\n  }, showEditName ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"input\", {\n    value: name,\n    onChange: e => setName(e.target.value),\n    type: \"text\",\n    styles: {\n      borderBottom: \"1px solid green !important\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(CheckIcon, {\n    onClick: updateName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 19\n    }\n  })) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 19\n    }\n  }, name), /*#__PURE__*/React.createElement(EditIcon, {\n    onClick: editName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 19\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"drawerLeft__note\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 13\n    }\n  }, \"This is not your username or pin. This name will be visible to your WhatsApp contacts.\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"drawerLeft__content_name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 13\n    }\n  }, \"About\"), /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 13\n    }\n  }, showEditAbout ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"input\", {\n    value: about,\n    onChange: e => setAbout(e.target.value),\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(CheckIcon, {\n    onClick: updateAbout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 19\n    }\n  })) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 19\n    }\n  }, about), /*#__PURE__*/React.createElement(EditIcon, {\n    onClick: editAbout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 19\n    }\n  })))))));\n}\n\n_s(DrawerLeft, \"uv1qrOFO4OUZ3IoHDKgyha4/lBc=\", false, function () {\n  return [useStyles, useStateValue];\n});\n\n_c = DrawerLeft;\nexport default DrawerLeft;\n\nvar _c;\n\n$RefreshReg$(_c, \"DrawerLeft\");","map":{"version":3,"sources":["E:/React_Project/WhatsApp-Clone-React-isnotuploaded on github/src/Sidebar/DrawerLeft.js"],"names":["React","useEffect","useState","useStateValue","DropdownMenu","toastInfo","DialogCustom","Zoom","Drawer","Avatar","Dialog","DialogTitle","DialogContent","DialogActions","IconButton","makeStyles","PhotoCameraIcon","ArrowBackIcon","EditIcon","CheckIcon","useStyles","theme","root","display","drawerPaper","position","DrawerLeft","drawerLeft","setDrawerLeft","db","auth","storage","classes","user","name","setName","about","setAbout","showEditName","setShowEditName","showEditAbout","setShowEditAbout","showProfilePhoto","setShowProfilePhoto","uploadPhotoLink","setUploadPhotoLink","showDialogUpload","setShowDialogUpload","menuProfile","setMenuProfile","photo","setPhoto","displayName","collection","doc","uid","onSnapshot","data","photoURL","updateName","e","preventDefault","update","then","console","log","catch","error","currentUser","updateProfile","updateAbout","editName","editAbout","handleDrawerClose","viewPhoto","viewPhotoClose","takePhoto","removedPhoto","onFileChangeImage","imageFileSizeToastId","file","target","files","size","storageRef","ref","isAnonymous","imagesRef","child","fileRef","put","getDownloadURL","uploadPhoto","handleUploadPhoto","uploadPhotoError","set","merge","handleDialogUploadClose","handleProfileMenu","event","currentTarget","handleProfileMenuClose","menuLists","title","onClick","id","Math","random","paper","transitionDelay","value","borderBottom"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useStateValue } from \"../StateProvider\";\r\n//importing components\r\nimport DropdownMenu from \"../shared/DropdownMenu\";\r\nimport { toastInfo } from \"../shared/toastInfo\";\r\nimport DialogCustom from \"../shared/DialogCustom\";\r\n//importing material-ui\r\nimport Zoom from \"@material-ui/core/Zoom\";\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n//importing material-ui-icons\r\nimport PhotoCameraIcon from \"@material-ui/icons/PhotoCamera\";\r\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport CheckIcon from \"@material-ui/icons/Check\";\r\n//importing styles\r\nimport \"./DrawerLeft.css\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n  },\r\n  drawerPaper: {\r\n    position: \"absolute\",\r\n  },\r\n}));\r\n\r\nfunction DrawerLeft({ drawerLeft, setDrawerLeft, db, auth, storage }) {\r\n  const classes = useStyles();\r\n  const [{ user }] = useStateValue();\r\n  const [name, setName] = useState(\"\");\r\n  const [about, setAbout] = useState(\"\");\r\n  const [showEditName, setShowEditName] = useState(false);\r\n  const [showEditAbout, setShowEditAbout] = useState(false);\r\n  const [showProfilePhoto, setShowProfilePhoto] = useState(false);\r\n  const [uploadPhotoLink, setUploadPhotoLink] = useState(null);\r\n  const [showDialogUpload, setShowDialogUpload] = useState(false);\r\n  const [menuProfile, setMenuProfile] = useState(null);\r\n  const [photo, setPhoto] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    setName(user.displayName);\r\n\r\n    db.collection(\"users\")\r\n      .doc(user.uid)\r\n      .onSnapshot(function (doc) {\r\n        setPhoto(doc.data()?.photoURL);\r\n        setAbout(doc.data()?.about);\r\n      });\r\n  }, [user.uid, user.displayName, db]);\r\n\r\n  const updateName = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (user.uid) {\r\n      db.collection(\"users\")\r\n        .doc(user.uid)\r\n        .update({\r\n          name: name,\r\n        })\r\n        .then(function () {\r\n          console.log(\"Document successfully updated!\");\r\n        })\r\n        .catch(function (error) {\r\n          // The document probably doesn't exist.\r\n          console.error(\"Error updating document: \", error);\r\n        });\r\n\r\n      auth.currentUser.updateProfile({\r\n        displayName: name,\r\n      });\r\n    }\r\n    setShowEditName(false);\r\n  };\r\n\r\n  const updateAbout = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (user.uid) {\r\n      db.collection(\"users\")\r\n        .doc(user.uid)\r\n        .update({\r\n          about: about,\r\n        })\r\n        .then(function () {\r\n          console.log(\"Document successfully updated!\");\r\n        })\r\n        .catch(function (error) {\r\n          // The document probably doesn't exist.\r\n          console.error(\"Error updating document: \", error);\r\n        });\r\n    }\r\n    setShowEditAbout(false);\r\n  };\r\n\r\n  const editName = () => {\r\n    setShowEditName(true);\r\n  };\r\n\r\n  const editAbout = () => {\r\n    setShowEditAbout(true);\r\n  };\r\n\r\n  const handleDrawerClose = () => {\r\n    setDrawerLeft(false);\r\n    setShowEditName(false);\r\n    setShowEditAbout(false);\r\n  };\r\n\r\n  const viewPhoto = () => {\r\n    const viewPhoto = \"viewPhoto\";\r\n\r\n    if (user) {\r\n      setShowProfilePhoto(true);\r\n    } else {\r\n      toastInfo(\"You have no photo!\", viewPhoto, \"top-center\");\r\n    }\r\n    setMenuProfile(null);\r\n  };\r\n\r\n  const viewPhotoClose = () => {\r\n    setShowProfilePhoto(false);\r\n  };\r\n\r\n  const takePhoto = () => {\r\n    const takePhoto = \"takePhoto\";\r\n    toastInfo(\"Take photo is not yet available!\", takePhoto, \"top-center\");\r\n  };\r\n\r\n  const removedPhoto = () => {\r\n    const removedPhoto = \"removedPhoto\";\r\n    toastInfo(\r\n      \"Removed photo is not yet available!\",\r\n      removedPhoto,\r\n      \"top-center\"\r\n    );\r\n  };\r\n\r\n  const onFileChangeImage = async (e) => {\r\n    const imageFileSizeToastId = \"imageFileSizeToastId\";\r\n    const file = e.target.files[0];\r\n\r\n    if (file.size > 3 * 1024 * 1024) {\r\n      toastInfo(\r\n        \"Image should not exceed more than 3Mb\",\r\n        imageFileSizeToastId,\r\n        \"top-center\"\r\n      );\r\n    } else {\r\n      const storageRef = storage.ref();\r\n      if (user.isAnonymous === true) {\r\n        const imagesRef = storageRef.child(`user/anonymous/${user.uid}`);\r\n        const fileRef = imagesRef.child(file.name);\r\n        await fileRef.put(file);\r\n        setUploadPhotoLink(await fileRef.getDownloadURL());\r\n        console.log(\"uploading image\", uploadPhotoLink);\r\n      } else {\r\n        const imagesRef = storageRef.child(`user/regular/${user.uid}`);\r\n        const fileRef = imagesRef.child(file.name);\r\n        await fileRef.put(file);\r\n        setUploadPhotoLink(await fileRef.getDownloadURL());\r\n        console.log(\"uploading image\", uploadPhotoLink);\r\n      }\r\n    }\r\n    setMenuProfile(null);\r\n    setShowDialogUpload(true);\r\n  };\r\n\r\n  const uploadPhoto = () => {\r\n    return (\r\n      <div className=\"profileMenu_uploadPhoto\">\r\n        <label htmlFor=\"file-input\">Upload photo</label>\r\n        <input\r\n          id=\"file-input\"\r\n          type=\"file\"\r\n          onChange={onFileChangeImage}\r\n          accept=\"image/*\"\r\n        />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const handleUploadPhoto = () => {\r\n    const uploadPhotoError = \"uploadPhotoError\";\r\n\r\n    if (uploadPhotoLink) {\r\n      auth.currentUser.updateProfile({\r\n        photoURL: uploadPhotoLink,\r\n      });\r\n      db.collection(\"users\").doc(user.uid).set(\r\n        {\r\n          photoURL: uploadPhotoLink,\r\n        },\r\n        { merge: true }\r\n      );\r\n      setShowDialogUpload(false);\r\n    } else {\r\n      toastInfo(\"Select photo to upload!\", uploadPhotoError, \"top-center\");\r\n    }\r\n  };\r\n\r\n  const handleDialogUploadClose = () => {\r\n    setShowDialogUpload(false);\r\n  };\r\n\r\n  const handleProfileMenu = (event) => {\r\n    setMenuProfile(event.currentTarget);\r\n  };\r\n\r\n  const handleProfileMenuClose = () => {\r\n    setMenuProfile(null);\r\n  };\r\n\r\n  const menuLists = [\r\n    {\r\n      title: \"View Photo\",\r\n      onClick: () => viewPhoto(),\r\n      id: Math.random() * 100000,\r\n    },\r\n    {\r\n      title: \"Take photo\",\r\n      onClick: () => takePhoto(),\r\n      id: Math.random() * 100000,\r\n    },\r\n    {\r\n      title: uploadPhoto(),\r\n      onClick: () => handleUploadPhoto(),\r\n      id: Math.random() * 100000,\r\n    },\r\n    {\r\n      title: \"Removed photo\",\r\n      onClick: () => removedPhoto(),\r\n      id: Math.random() * 100000,\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <Drawer\r\n        anchor=\"left\"\r\n        variant=\"persistent\"\r\n        open={drawerLeft}\r\n        classes={{ paper: classes.drawerPaper }}\r\n      >\r\n        <div className=\"drawerLeft__header\">\r\n          <div className=\"drawerLeft__header_container\">\r\n            <IconButton onClick={handleDrawerClose}>\r\n              <ArrowBackIcon />\r\n            </IconButton>\r\n            <p>Profile</p>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"drawerLeft__content\">\r\n          <div className=\"drawerLeft__content_photo\">\r\n            <div className=\"profilePhoto\">\r\n              <Zoom\r\n                in={drawerLeft}\r\n                style={{ transitionDelay: drawerLeft ? \"300ms\" : \"0ms\" }}\r\n              >\r\n                {photo ? (\r\n                  <Avatar src={photo} className=\"profilePhoto__layer_bottom\" />\r\n                ) : (\r\n                  <Avatar />\r\n                )}\r\n              </Zoom>\r\n              <div\r\n                className=\"profilePhoto__layer_top\"\r\n                onClick={handleProfileMenu}\r\n              >\r\n                <div className=\"profilePhoto__text\">\r\n                  <PhotoCameraIcon />\r\n                  <p>CHANGE</p>\r\n                  <p>PROFILE PHOTO</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <DropdownMenu\r\n              menuLists={menuLists}\r\n              menu={menuProfile}\r\n              handleMenuClose={handleProfileMenuClose}\r\n            />\r\n\r\n            <DialogCustom\r\n              open={showProfilePhoto}\r\n              close={viewPhotoClose}\r\n              photo={photo}\r\n              user={user}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"profileMenu__diaglog\">\r\n            <Dialog\r\n              open={showDialogUpload}\r\n              onClose={handleDialogUploadClose}\r\n              aria-labelledby=\"form-dialog-title\"\r\n            >\r\n              <DialogTitle id=\"form-dialog-title-drawerLeft\">\r\n                Upload Photo\r\n              </DialogTitle>\r\n              <DialogContent id=\"form-dialog-content\">\r\n                <div className=\"profileMenu__uploadPhoto_dialog\">\r\n                  <img src={uploadPhotoLink} alt=\"\" />\r\n                </div>\r\n              </DialogContent>\r\n              <DialogActions>\r\n                <div className=\"profileMenu_uploadPhoto_iconButton\">\r\n                  <IconButton onClick={handleUploadPhoto}>\r\n                    <CheckIcon />\r\n                  </IconButton>\r\n                </div>\r\n              </DialogActions>\r\n            </Dialog>\r\n          </div>\r\n\r\n          <div className=\"drawerLeft__content_name\">\r\n            <p>Your Name</p>\r\n            <form>\r\n              {showEditName ? (\r\n                <>\r\n                  <input\r\n                    value={name}\r\n                    onChange={(e) => setName(e.target.value)}\r\n                    type=\"text\"\r\n                    styles={{ borderBottom: \"1px solid green !important\" }}\r\n                  />\r\n                  <CheckIcon onClick={updateName} />\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <span>{name}</span>\r\n                  <EditIcon onClick={editName} />\r\n                </>\r\n              )}\r\n            </form>\r\n          </div>\r\n\r\n          <div className=\"drawerLeft__note\">\r\n            <span>\r\n              This is not your username or pin. This name will be visible to\r\n              your WhatsApp contacts.\r\n            </span>\r\n          </div>\r\n\r\n          <div className=\"drawerLeft__content_name\">\r\n            <p>About</p>\r\n            <form>\r\n              {showEditAbout ? (\r\n                <>\r\n                  <input\r\n                    value={about}\r\n                    onChange={(e) => setAbout(e.target.value)}\r\n                    type=\"text\"\r\n                  />\r\n                  <CheckIcon onClick={updateAbout} />\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <span>{about}</span>\r\n                  <EditIcon onClick={editAbout} />\r\n                </>\r\n              )}\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </Drawer>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DrawerLeft;\r\n"]},"metadata":{},"sourceType":"module"}