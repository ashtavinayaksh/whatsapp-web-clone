{"ast":null,"code":"var _jsxFileName = \"E:\\\\React_Project\\\\WhatsApp-Clone-React-isnotuploaded on github\\\\src\\\\Sidebar\\\\SidebarChat.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport Avatar from '@material-ui/core/Avatar';\nimport PhotoCameraIcon from '@material-ui/icons/PhotoCamera';\nimport VideocamIcon from '@material-ui/icons/Videocam';\nimport db from '../firebase';\nimport './SidebarChat.css';\n\nfunction SidebarChat({\n  id,\n  name\n}) {\n  _s();\n\n  var _messages$, _messages$2, _messages$3, _messages$4;\n\n  const [messages, setMessages] = useState([]);\n  useEffect(() => {\n    if (id) {\n      db.collection(\"rooms\").doc(id).collection(\"messages\").orderBy(\"timestamp\", \"desc\").onSnapshot(snapshot => setMessages(snapshot.docs.map(doc => doc.data())));\n    }\n  }, [id]);\n  return /*#__PURE__*/React.createElement(Link, {\n    to: `/rooms/${id}`,\n    className: \"sidebarChat__link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebarChat\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 17\n    }\n  }, name[0]), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebarChat__info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 21\n    }\n  }, name), ((_messages$ = messages[0]) === null || _messages$ === void 0 ? void 0 : _messages$.photo) ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sideChat__photo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(PhotoCameraIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 29\n    }\n  }), \" \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 49\n    }\n  }, \"Photo\")) : null, ((_messages$2 = messages[0]) === null || _messages$2 === void 0 ? void 0 : _messages$2.video) ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sideChat__photo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(VideocamIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 29\n    }\n  }), \" \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 46\n    }\n  }, \"Video\")) : null, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 21\n    }\n  }, (_messages$3 = messages[0]) === null || _messages$3 === void 0 ? void 0 : _messages$3.message), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 21\n    }\n  }, (_messages$4 = messages[0]) === null || _messages$4 === void 0 ? void 0 : _messages$4.url))));\n}\n\n_s(SidebarChat, \"RyA59LRbn9goj/9N7rELX+NWNVI=\");\n\n_c = SidebarChat;\nexport default SidebarChat;\n\nvar _c;\n\n$RefreshReg$(_c, \"SidebarChat\");","map":{"version":3,"sources":["E:/React_Project/WhatsApp-Clone-React-isnotuploaded on github/src/Sidebar/SidebarChat.js"],"names":["React","useEffect","useState","Link","Avatar","PhotoCameraIcon","VideocamIcon","db","SidebarChat","id","name","messages","setMessages","collection","doc","orderBy","onSnapshot","snapshot","docs","map","data","photo","video","message","url"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,eAAP,MAA4B,gCAA5B;AACA,OAAOC,YAAP,MAAyB,6BAAzB;AACA,OAAOC,EAAP,MAAe,aAAf;AACA,OAAO,mBAAP;;AAEA,SAASC,WAAT,CAAqB;AAAEC,EAAAA,EAAF;AAAMC,EAAAA;AAAN,CAArB,EAAmC;AAAA;;AAAA;;AAC/B,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BV,QAAQ,CAAC,EAAD,CAAxC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAGQ,EAAH,EAAM;AACJF,MAAAA,EAAE,CAACM,UAAH,CAAc,OAAd,EACGC,GADH,CACOL,EADP,EAEGI,UAFH,CAEc,UAFd,EAGGE,OAHH,CAGW,WAHX,EAGwB,MAHxB,EAIGC,UAJH,CAIeC,QAAD,IACRL,WAAW,CAACK,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAmBL,GAAD,IAC9BA,GAAG,CAACM,IAAJ,EADY,CAAD,CALjB;AAQD;AACJ,GAXQ,EAWN,CAACX,EAAD,CAXM,CAAT;AAaA,sBACI,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAG,UAASA,EAAG,EAAvB;AAA0B,IAAA,SAAS,EAAC,mBAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAASC,IAAI,CAAC,CAAD,CAAb,CADJ,eAEI;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKA,IAAL,CADJ,EAEK,eAAAC,QAAQ,CAAC,CAAD,CAAR,0DAAaU,KAAb,iBACG;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,oBACwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADxB,CADH,GAIA,IANL,EAOK,gBAAAV,QAAQ,CAAC,CAAD,CAAR,4DAAaW,KAAb,iBACG;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,oBACqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADrB,CADH,GAIA,IAXL,eAYI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAIX,QAAQ,CAAC,CAAD,CAAZ,gDAAI,YAAaY,OAAjB,CAZJ,eAaI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAIZ,QAAQ,CAAC,CAAD,CAAZ,gDAAI,YAAaa,GAAjB,CAbJ,CAFJ,CADJ,CADJ;AAsBH;;GAtCQhB,W;;KAAAA,W;AAwCT,eAAeA,WAAf","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport PhotoCameraIcon from '@material-ui/icons/PhotoCamera';\r\nimport VideocamIcon from '@material-ui/icons/Videocam';\r\nimport db from '../firebase';\r\nimport './SidebarChat.css';\r\n\r\nfunction SidebarChat({ id, name }) {\r\n    const [messages, setMessages] = useState([]);\r\n\r\n    useEffect(() => {\r\n        if(id){\r\n          db.collection(\"rooms\")\r\n            .doc(id)\r\n            .collection(\"messages\")\r\n            .orderBy(\"timestamp\", \"desc\")\r\n            .onSnapshot((snapshot) => (\r\n                setMessages(snapshot.docs.map((doc) =>\r\n                doc.data()))\r\n            ));\r\n        }\r\n    }, [id])\r\n    \r\n    return (\r\n        <Link to={`/rooms/${id}`} className=\"sidebarChat__link\">\r\n            <div className=\"sidebarChat\">\r\n                <Avatar>{name[0]}</Avatar>\r\n                <div className=\"sidebarChat__info\">\r\n                    <h2>{name}</h2> \r\n                    {messages[0]?.photo?\r\n                        <div className=\"sideChat__photo\">\r\n                            <PhotoCameraIcon /> <span>Photo</span>\r\n                        </div>\r\n                    :null}\r\n                    {messages[0]?.video?\r\n                        <div className=\"sideChat__photo\">\r\n                            <VideocamIcon /> <span>Video</span>\r\n                        </div>\r\n                    :null}\r\n                    <p>{messages[0]?.message}</p>\r\n                    <p>{messages[0]?.url}</p>\r\n                </div>\r\n            </div>\r\n        </Link>\r\n    );   \r\n}\r\n\r\nexport default SidebarChat\r\n"]},"metadata":{},"sourceType":"module"}