{"ast":null,"code":"var _jsxFileName = \"E:\\\\React_Project\\\\WhatsApp-Clone-React-isnotuploaded on github\\\\src\\\\Sidebar\\\\NewChat.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport TooltipCustom from '../shared/TooltipCustom'; // import db from '../firebase';\n\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport ChatIcon from '@material-ui/icons/Chat';\n\nfunction NewChat({\n  user,\n  db,\n  firebase\n}) {\n  _s();\n\n  const [roomName, setRoomName] = useState(\"\");\n  const [open, setOpen] = useState(false);\n\n  const handleNewChatOpen = () => {\n    setOpen(true);\n  };\n\n  const handleNewChatClose = () => {\n    setOpen(false);\n    setRoomName(\"\");\n  };\n\n  const createChat = e => {\n    e.preventDefault();\n\n    if (roomName) {\n      db.collection(\"rooms\").add({\n        roomOwner: user.uid,\n        createdBy: user.displayName,\n        name: roomName,\n        timestamp: firebase.firestore.FieldValue.serverTimestamp()\n      }).then(function (docRef) {\n        // console.log(\"Document written with ID: \", docRef.id);\n        db.collection(\"rooms\").doc(docRef.id).set({\n          id: docRef.id\n        }, {\n          merge: true\n        });\n      }).catch(function (error) {\n        console.error(\"Error adding document: \", error);\n      });\n    }\n\n    setOpen(false);\n    setRoomName(\"\");\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TooltipCustom, {\n    name: \"New Chat\",\n    onClick: () => handleNewChatOpen(),\n    icon: /*#__PURE__*/React.createElement(ChatIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 23\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Dialog, {\n    open: open,\n    onClose: handleNewChatClose,\n    \"aria-labelledby\": \"form-dialog-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(DialogTitle, {\n    id: \"form-dialog-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }, \"Create Chat Room\"), /*#__PURE__*/React.createElement(DialogContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    autoFocus: true,\n    margin: \"dense\",\n    id: \"name\",\n    label: \"Room Name\",\n    type: \"text\",\n    fullWidth: true,\n    value: roomName,\n    onChange: e => setRoomName(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(DialogActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: handleNewChatClose,\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  }, \"Cancel\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: createChat,\n    color: \"primary\",\n    disabled: !roomName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  }, \"Create\"))));\n}\n\n_s(NewChat, \"jyAhkMmXoL8wTbNVHR/a5paZ4hs=\");\n\n_c = NewChat;\nexport default NewChat;\n\nvar _c;\n\n$RefreshReg$(_c, \"NewChat\");","map":{"version":3,"sources":["E:/React_Project/WhatsApp-Clone-React-isnotuploaded on github/src/Sidebar/NewChat.js"],"names":["React","useState","TooltipCustom","Button","TextField","Dialog","DialogActions","DialogContent","DialogTitle","ChatIcon","NewChat","user","db","firebase","roomName","setRoomName","open","setOpen","handleNewChatOpen","handleNewChatClose","createChat","e","preventDefault","collection","add","roomOwner","uid","createdBy","displayName","name","timestamp","firestore","FieldValue","serverTimestamp","then","docRef","doc","id","set","merge","catch","error","console","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport TooltipCustom from '../shared/TooltipCustom';\r\n// import db from '../firebase';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport ChatIcon from '@material-ui/icons/Chat';\r\n\r\nfunction NewChat({ user, db, firebase }) {\r\n    const [roomName, setRoomName] = useState(\"\");\r\n    const [open, setOpen] = useState(false);\r\n    \r\n    const handleNewChatOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleNewChatClose = () => {\r\n        setOpen(false);\r\n        setRoomName(\"\");\r\n    };\r\n\r\n    const createChat = (e) => {\r\n        e.preventDefault();\r\n\r\n        if(roomName) {\r\n          db.collection(\"rooms\")\r\n            .add({\r\n                roomOwner: user.uid,\r\n                createdBy: user.displayName,\r\n                name: roomName,\r\n                timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n            })\r\n            .then(function(docRef) {\r\n                // console.log(\"Document written with ID: \", docRef.id);\r\n                db.collection(\"rooms\").doc(docRef.id).set({\r\n                    id: docRef.id\r\n                },{ merge: true });\r\n            })\r\n            .catch(function(error) {\r\n                console.error(\"Error adding document: \", error);\r\n            });\r\n        }\r\n        setOpen(false);\r\n        setRoomName(\"\");\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <TooltipCustom \r\n                name=\"New Chat\" \r\n                onClick={() => handleNewChatOpen()} \r\n                icon={<ChatIcon />}\r\n            />\r\n\r\n            <Dialog open={open} onClose={handleNewChatClose} aria-labelledby=\"form-dialog-title\">\r\n                <DialogTitle id=\"form-dialog-title\">Create Chat Room</DialogTitle>\r\n                <DialogContent>\r\n                <TextField\r\n                    autoFocus\r\n                    margin=\"dense\"\r\n                    id=\"name\"\r\n                    label=\"Room Name\"\r\n                    type=\"text\"\r\n                    fullWidth\r\n                    value={roomName}\r\n                    onChange={e => setRoomName(e.target.value)}\r\n                />\r\n                </DialogContent>\r\n                <DialogActions>\r\n                <Button onClick={handleNewChatClose} color=\"primary\">\r\n                    Cancel\r\n                </Button>\r\n                <Button onClick={createChat} color=\"primary\" disabled={!roomName}>\r\n                    Create\r\n                </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NewChat\r\n"]},"metadata":{},"sourceType":"module"}